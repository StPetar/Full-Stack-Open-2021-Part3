{"version":3,"sources":["components/PersonForm.js","components/Persons.js","components/Filter.js","components/Notification.js","services/personServices.js","App.js","index.js"],"names":["PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","Persons","person","handleDelete","name","number","onClick","Filter","search","handleSearch","Notification","message","notificationStyle","background","color","margin","padding","style","baseUrl","personServices","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","deleteEntry","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setSearch","showAll","notification","setNotification","errorMessage","setErrorMessage","useEffect","intialNumbers","notificationMessage","text","setTimeout","personsToShow","filter","toLowerCase","includes","event","target","preventDefault","personObject","window","alert","map","confirm","find","p","updatedPerson","catch","error","returnedPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"2KAwBeA,EAtBI,SAAC,GAMb,IALLC,EAKI,EALJA,UACAC,EAII,EAJJA,QACAC,EAGI,EAHJA,iBACAC,EAEI,EAFJA,UACAC,EACI,EADJA,mBAEA,OACI,uBAAMC,SAAUL,EAAhB,UACE,yCACQ,uBAAOM,MAAOL,EAASM,SAAUL,OAEzC,2CACU,uBAAOI,MAAOH,EAAWI,SAAUH,OAE7C,8BACE,wBAAQI,KAAK,SAAb,mCCLKC,EAXC,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,aACzB,OACE,8BACE,8BACGD,EAAOE,KADV,IACiBF,EAAOG,OACtB,wBAAQC,QAASH,EAAjB,kCCGOI,EARA,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,aACxB,OACE,2CACU,uBAAOX,MAAOU,EAAQT,SAAUU,QCgC/BC,EAlCM,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,QAASX,EAAW,EAAXA,KAsBzBY,EACQ,OAAZD,EACI,KACS,OAATX,EAxBsB,CAC1Ba,WAAY,UACZC,MAAO,UACPC,OAAQ,WACRC,QAAS,QAsBI,WAAThB,EAnBqB,CACzBa,WAAY,UACZC,MAAO,UACPC,OAAQ,WACRC,QAAS,QAGe,CACxBH,WAAY,UACZC,MAAO,UACPC,OAAQ,WACRC,QAAS,QAYX,OAAO,qBAAKC,MAAOL,EAAZ,SAAgCD,K,gBCjCnCO,EAAU,eAuBDC,EADM,CAAEC,OApBR,WAEb,OADgBC,IAAMC,IAAIJ,GACXK,MAAK,SAACC,GAAD,OAAcA,EAASC,SAkBdC,OAfhB,SAACC,GAEd,OADgBN,IAAMO,KAAKV,EAASS,GACrBJ,MAAK,SAACC,GAAD,OAAcA,EAASC,SAaNI,OAVxB,SAACC,EAAIH,GAElB,OADgBN,IAAMU,IAAN,UAAab,EAAb,YAAwBY,GAAMH,GAC/BJ,MAAK,SAACC,GAAD,OAAcA,EAASC,SAQEO,YAL3B,SAACF,GAEnB,OADgBT,IAAMY,OAAN,UAAgBf,EAAhB,YAA2BY,MCoH9BI,EAhIH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTC,EADS,KACAC,EADA,OAEcF,mBAAS,IAFvB,mBAET1C,EAFS,KAEA6C,EAFA,OAGkBH,mBAAS,IAH3B,mBAGTxC,EAHS,KAGE4C,EAHF,OAIYJ,mBAAS,IAJrB,mBAIT3B,EAJS,KAIDgC,EAJC,OAKEL,oBAAS,GAApBM,EALS,sBAMwBN,mBAAS,MANjC,mBAMTO,EANS,KAMKC,EANL,OAOwBR,mBAAS,MAPjC,mBAOTS,EAPS,KAOKC,EAPL,KAShBC,qBAAU,WACR3B,EAAeC,SAASG,MAAK,SAACwB,GAC5BV,EAAWU,QAEZ,IAEH,IAAMC,EAAsB,SAACC,EAAMjD,GACjC2C,EAAgB,GAAD,OAAIM,IACnBJ,EAAgB7C,GAChBkD,YAAW,kBAAMP,EAAgB,QAAO,KACxCL,EAAW,IACXC,EAAa,KAqETY,EAAgBV,EAClBL,EAAQgB,QAAO,SAAChB,GAAD,OACbA,EAAQhC,KAAKiD,cAAcC,SAAS9C,EAAO6C,kBAE7CjB,EAUJ,OACE,gCACE,2CACA,cAAC,EAAD,CAAczB,QAAS+B,EAAc1C,KAAM4C,IAC3C,cAAC,EAAD,CAAQpC,OAAQA,EAAQC,aAtBP,SAAC8C,GACpBf,EAAUe,EAAMC,OAAO1D,UAsBrB,kDACA,cAAC,EAAD,CACEN,UAvFY,SAAC+D,GACjBA,EAAME,iBACN,IAAMC,EAAe,CACnBtD,KAAMX,EACNY,OAAQV,GAGV,GAA0B,KAAtB+D,EAAatD,MAAuC,KAAxBsD,EAAarD,OAC3C,OAAOsD,OAAOC,MAAM,uCACtB,GAAIxB,EAAQyB,KAAI,SAAC3D,GAAD,OAAYA,EAAOE,QAAMkD,SAAS7D,IAChD,GACEkE,OAAOG,QAAP,UACKrE,EADL,oEAGA,CACA,IAAMqC,EAAKM,EAAQ2B,MAAK,SAACC,GAAD,OAAOA,EAAE5D,OAASX,KAASqC,GAEnDX,EACGU,OAAOC,EAAI4B,GACXnC,MAAK,SAAC0C,GACL5B,EACED,EAAQyB,KAAI,SAAC3D,GAAD,OACVA,EAAO4B,KAAOA,EAAKmC,EAAgB/D,MAGvC8C,EAAoB,GAAD,OAAIvD,EAAJ,sBAAiC,aAErDyE,OAAM,SAACC,GACgB,wCAAlBA,EAAMxD,SACRqC,EAAoB,GAAD,OACdvD,EADc,iDAEjB,kBAMV0B,EAAeO,OAAOgC,GAAcnC,MAAK,SAAC6C,GACxC/B,EAAWD,EAAQiC,OAAOD,IAC1BpB,EAAoB,GAAD,OAAIvD,EAAJ,4BAAuC,UAiD1DA,QAASA,EACTC,iBAjBmB,SAAC6D,GACxBjB,EAAWiB,EAAMC,OAAO1D,QAiBpBH,UAAWA,EACXC,mBAfqB,SAAC2D,GAC1BhB,EAAagB,EAAMC,OAAO1D,UAgBxB,yCACCqD,EAAcU,KAAI,SAAC3D,GAAD,OACjB,cAAC,EAAD,CAEEA,OAAQA,EACRC,aAAc,kBAtDA2B,EAsDmB5B,EAAO4B,GAtDtB1B,EAsD0BF,EAAOE,UArDrDuD,OAAOG,QAAP,0CAAkD1D,EAAlD,OACFe,EACGa,YAAYF,GACZP,MAAK,WACJc,EAAWD,EAAQgB,QAAO,SAAClD,GAAD,OAAYA,EAAO4B,KAAOA,MACpDkB,EAAoB,GAAD,OAAI5C,EAAJ,sBAA8B,SAElD8D,OAAM,WACLlB,EAAoB,GAAD,OACd5C,EADc,8CAEjB,SAEFiC,EAAWD,EAAQgB,QAAO,SAACY,GAAD,OAAOA,EAAElC,KAAOA,UAb7B,IAACA,EAAI1B,IAoDbF,EAAOE,aCxHtBkE,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.bcfff73e.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonForm = ({\r\n  addPerson,\r\n  newName,\r\n  handleNameChange,\r\n  newNumber,\r\n  handleNumberChange,\r\n}) => {\r\n  return (\r\n      <form onSubmit={addPerson}>\r\n        <div>\r\n          Name: <input value={newName} onChange={handleNameChange} />\r\n        </div>\r\n        <div>\r\n          Number: <input value={newNumber} onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n          <button type='submit'>Add to contacts</button>\r\n        </div>\r\n      </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({ person, handleDelete }) => {\r\n  return (\r\n    <div>\r\n      <p>\r\n        {person.name} {person.number}\r\n        <button onClick={handleDelete}>Delete Contact</button>\r\n      </p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = ({ search, handleSearch }) => {\r\n  return (\r\n    <div>\r\n      Search: <input value={search} onChange={handleSearch} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","  \r\nimport React from \"react\"\r\n\r\nconst Notification = ({ message, type }) => {\r\n  const successNotification = {\r\n    background: \"#DFF2BF\",\r\n    color: \"#4F8A10\",\r\n    margin: \"10px 0px\",\r\n    padding: \"12px\",\r\n  }\r\n\r\n  const updateNotification = {\r\n    background: \"#BDE5F8\",\r\n    color: \"#00529B\",\r\n    margin: \"10px 0px\",\r\n    padding: \"12px\",\r\n  }\r\n\r\n  const errorNotification = {\r\n    background: \"#FFD2D2\",\r\n    color: \"#D8000C\",\r\n    margin: \"10px 0px\",\r\n    padding: \"12px\",\r\n  }\r\n\r\n  const notificationStyle =\r\n    message === null\r\n      ? null\r\n      : type === \"ok\"\r\n      ? successNotification\r\n      : type === \"update\"\r\n      ? updateNotification\r\n      : errorNotification\r\n\r\n  return <div style={notificationStyle}>{message}</div>\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst deleteEntry = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request\r\n}\r\n\r\nlet personServices = { getAll, create, update, deleteEntry }\r\nexport default personServices","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport personServices from './services/personServices'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [search, setSearch] = useState('')\n  const [showAll] = useState(true)\n  const [notification, setNotification] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personServices.getAll().then((intialNumbers) => {\n      setPersons(intialNumbers)\n    })\n  }, [])\n\n  const notificationMessage = (text, type) => {\n    setNotification(`${text}`)\n    setErrorMessage(type)\n    setTimeout(() => setNotification(null), 3000)\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    }\n\n    if (personObject.name === '' || personObject.number === '')\n      return window.alert('Please provide a name and a number!')\n    if (persons.map((person) => person.name).includes(newName)) {\n      if (\n        window.confirm(\n          `${newName} is already in the phonebook. Do you want to update the number?`\n        )\n      ) {\n        const id = persons.find((p) => p.name === newName).id\n\n        personServices\n          .update(id, personObject)\n          .then((updatedPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.id === id ? updatedPerson : person\n              )\n            )\n            notificationMessage(`${newName} has been updated!`, 'update')\n          })\n          .catch((error) => {\n            if (error.message === 'Request failed with status code 404') {\n              notificationMessage(\n                `${newName} has been already removed from the phonebook!`,\n                'error'\n              )\n            }\n          }) \n      }\n    } else {\n      personServices.create(personObject).then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson))\n        notificationMessage(`${newName} added to the phonebook!`, 'ok')\n      })\n    }\n  }\n\n  const handleDelete = (id, name) => {\n    if (window.confirm(`Are you sure you want to delete ${name}?`)) {\n      personServices\n        .deleteEntry(id)\n        .then(() => {\n          setPersons(persons.filter((person) => person.id !== id))\n          notificationMessage(`${name} has been deleted!`, 'ok')\n        })\n        .catch(() => {\n          notificationMessage(\n            `${name} has been already removed from the server.`,\n            'error'\n          )\n          setPersons(persons.filter((p) => p.id !== id))\n        })\n    }\n  }\n\n  const handleSearch = (event) => {\n    setSearch(event.target.value)\n  }\n\n  const personsToShow = showAll\n    ? persons.filter((persons) =>\n        persons.name.toLowerCase().includes(search.toLowerCase())\n      )\n    : persons\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification} type={errorMessage} />\n      <Filter search={search} handleSearch={handleSearch} />\n      <h3>Add a new person</h3>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <h3>Numbers</h3>\n      {personsToShow.map((person) => (\n        <Persons\n          key={person.name}\n          person={person}\n          handleDelete={() => handleDelete(person.id, person.name)}\n        />\n      ))}\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}