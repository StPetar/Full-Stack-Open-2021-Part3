{"version":3,"sources":["components/PersonForm.js","components/Persons.js","components/Filter.js","components/Notification.js","services/personServices.js","App.js","index.js"],"names":["PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","Persons","person","handleDelete","name","number","onClick","Filter","search","handleSearch","Notification","message","notificationStyle","background","color","margin","padding","style","baseUrl","personServices","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","deleteEntry","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setSearch","showAll","notification","setNotification","errorMessage","setErrorMessage","useEffect","intialNumbers","notificationMessage","text","setTimeout","personsToShow","filter","toLowerCase","includes","event","target","preventDefault","personObject","window","alert","map","confirm","find","p","updatedPerson","catch","error","returnedPerson","concat","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.77a1abc3.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonForm = ({\r\n  addPerson,\r\n  newName,\r\n  handleNameChange,\r\n  newNumber,\r\n  handleNumberChange,\r\n}) => {\r\n  return (\r\n      <form onSubmit={addPerson}>\r\n        <div>\r\n          Name: <input value={newName} onChange={handleNameChange} />\r\n        </div>\r\n        <div>\r\n          Number: <input value={newNumber} onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n          <button type='submit'>Add to contacts</button>\r\n        </div>\r\n      </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({ person, handleDelete }) => {\r\n  return (\r\n    <div>\r\n      <p>\r\n        {person.name} {person.number}\r\n        <button onClick={handleDelete}>Delete Contact</button>\r\n      </p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = ({ search, handleSearch }) => {\r\n  return (\r\n    <div>\r\n      Search: <input value={search} onChange={handleSearch} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","  \r\nimport React from \"react\"\r\n\r\nconst Notification = ({ message, type }) => {\r\n  const successNotification = {\r\n    background: \"#DFF2BF\",\r\n    color: \"#4F8A10\",\r\n    margin: \"10px 0px\",\r\n    padding: \"12px\",\r\n  }\r\n\r\n  const updateNotification = {\r\n    background: \"#BDE5F8\",\r\n    color: \"#00529B\",\r\n    margin: \"10px 0px\",\r\n    padding: \"12px\",\r\n  }\r\n\r\n  const errorNotification = {\r\n    background: \"#FFD2D2\",\r\n    color: \"#D8000C\",\r\n    margin: \"10px 0px\",\r\n    padding: \"12px\",\r\n  }\r\n\r\n  const notificationStyle =\r\n    message === null\r\n      ? null\r\n      : type === \"ok\"\r\n      ? successNotification\r\n      : type === \"update\"\r\n      ? updateNotification\r\n      : errorNotification\r\n\r\n  return <div style={notificationStyle}>{message}</div>\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst deleteEntry = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request\r\n}\r\n\r\nlet personServices = { getAll, create, update, deleteEntry }\r\nexport default personServices","import React, { useState, useEffect } from 'react'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Filter from './components/Filter'\r\nimport Notification from './components/Notification'\r\nimport personServices from './services/personServices'\r\n\r\nconst App = () => {\r\n\tconst [persons, setPersons] = useState([])\r\n\tconst [newName, setNewName] = useState('')\r\n\tconst [newNumber, setNewNumber] = useState('')\r\n\tconst [search, setSearch] = useState('')\r\n\tconst [showAll] = useState(true)\r\n\tconst [notification, setNotification] = useState(null)\r\n\tconst [errorMessage, setErrorMessage] = useState(null)\r\n\r\n\tuseEffect(() => {\r\n\t\tpersonServices.getAll().then((intialNumbers) => {\r\n\t\t\tsetPersons(intialNumbers)\r\n\t\t})\r\n\t}, [])\r\n\r\n\tconst notificationMessage = (text, type) => {\r\n\t\tsetNotification(`${text}`)\r\n\t\tsetErrorMessage(type)\r\n\t\tsetTimeout(() => setNotification(null), 5000)\r\n\t\tsetNewName('')\r\n\t\tsetNewNumber('')\r\n\t}\r\n\r\n\tconst addPerson = (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tconst personObject = {\r\n\t\t\tname: newName,\r\n\t\t\tnumber: newNumber,\r\n\t\t}\r\n\r\n\t\tif (personObject.name === '' || personObject.number === '')\r\n\t\t\treturn window.alert('Please provide a name and a number!')\r\n\t\tif (persons.map((person) => person.name).includes(newName)) {\r\n\t\t\tif (\r\n\t\t\t\twindow.confirm(\r\n\t\t\t\t\t`${newName} is already in the phonebook. Would you like to update the number?`\r\n\t\t\t\t)\r\n\t\t\t) {\r\n\t\t\t\tconst id = persons.find((p) => p.name === newName).id\r\n\r\n\t\t\t\tpersonServices\r\n\t\t\t\t\t.update(id, personObject)\r\n\t\t\t\t\t.then((updatedPerson) => {\r\n\t\t\t\t\t\tsetPersons(\r\n\t\t\t\t\t\t\tpersons.map((person) =>\r\n\t\t\t\t\t\t\t\tperson.id === id ? updatedPerson : person\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\tnotificationMessage(`${newName} has been updated!`, 'update')\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\tif (error.message === 'Request failed with status code 404') {\r\n\t\t\t\t\t\t\tnotificationMessage(\r\n\t\t\t\t\t\t\t\t`${newName} is not in the phonebook!`,\r\n\t\t\t\t\t\t\t\t'error'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}) \r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tpersonServices.create(personObject).then((returnedPerson) => {\r\n\t\t\t\tsetPersons(persons.concat(returnedPerson))\r\n\t\t\t\tnotificationMessage(`${newName} added to the phonebook!`, 'ok')\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(error.response.data.error);\r\n\t\t\t\tnotificationMessage(error.response.data.error, 'error');\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleDelete = (id, name) => {\r\n\t\tif (window.confirm(`Are you sure you want to delete ${name}?`)) {\r\n\t\t\tpersonServices\r\n\t\t\t\t.deleteEntry(id)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tsetPersons(persons.filter((person) => person.id !== id))\r\n\t\t\t\t\tnotificationMessage(`${name} has been deleted!`, 'ok')\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tnotificationMessage(\r\n\t\t\t\t\t\t`${name} has been already removed from the server.`,\r\n\t\t\t\t\t\t'error'\r\n\t\t\t\t\t)\r\n\t\t\t\t\tsetPersons(persons.filter((p) => p.id !== id))\r\n\t\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleSearch = (event) => {\r\n\t\tsetSearch(event.target.value)\r\n\t}\r\n\r\n\tconst personsToShow = showAll\r\n\t\t? persons.filter((persons) =>\r\n\t\t\t\tpersons.name.toLowerCase().includes(search.toLowerCase())\r\n\t\t\t)\r\n\t\t: persons\r\n\r\n\tconst handleNameChange = (event) => {\r\n\t\tsetNewName(event.target.value)\r\n\t}\r\n\r\n\tconst handleNumberChange = (event) => {\r\n\t\tsetNewNumber(event.target.value)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Phonebook</h2>\r\n\t\t\t<Notification message={notification} type={errorMessage} />\r\n\t\t\t<Filter search={search} handleSearch={handleSearch} />\r\n\t\t\t<h3>Add a new person</h3>\r\n\t\t\t<PersonForm\r\n\t\t\t\taddPerson={addPerson}\r\n\t\t\t\tnewName={newName}\r\n\t\t\t\thandleNameChange={handleNameChange}\r\n\t\t\t\tnewNumber={newNumber}\r\n\t\t\t\thandleNumberChange={handleNumberChange}\r\n\t\t\t/>\r\n\t\t\t<h3>Numbers</h3>\r\n\t\t\t{personsToShow.map((person) => (\r\n\t\t\t\t<Persons\r\n\t\t\t\t\tkey={person.name}\r\n\t\t\t\t\tperson={person}\r\n\t\t\t\t\thandleDelete={() => handleDelete(person.id, person.name)}\r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}